## 정규화(Normalization)

데이터베이스에서 정규화는 데이터베이스를 설계한 후 설계 결과물을 검증하기 위해 사용하기도 한다. 데이터베이스를 잘못 설계하면 불필요한 데이터 중복이 발생하여 릴레이션에 대한 데이터의 삽입, 수정, 삭제 연산을 수행할 때 부작용들이 발생할 수 있기 때문이다. 이러한 부작용을 이상(Anomaly) 현상이라 한다.

즉, 데이터베이스 정규화는 데이터 중복과 이상 현상으로 인해 발생할 수 있는 문제를 제거하면서 데이터베이스를 올바르게 설계해 나가는 과정이다.

데이터베이스를 설계할 때 고려해야할 부분은 데이터 중복(Data Redundancy), 데이터 무결성(Data Integrity), 이상(Anomaly) 현상이다.

## 데이터 중복(Data Redundancy)

데이터 중복은 실제 데이터의 동일한 복사본이나 부분적인 복사본을 뜻한다.

이러한 중복성으로 데이터를 복구할 때에 더 수월할 수도 있으나 데이터베이스 내에서는 몇 가지 문제점들을 지니게 된다.

- 일관된 자료 처리의 어려움
- 저장 공간 낭비
- 데이터 효율성 감소

## 데이터 무결성(Data Integrity)

데이터베이스의 데이터 정규화는 데이터 무결성을 강화하기 위해 사용한다.

데이터 무결성은 데이터의 수명 주기 동안 정확성과 일관성을 유지하는 것을 뜻한다.

즉, 입력된 데이터가 오염되지 않고 입력된 그대로의 데이터를 사용할 수 있다는 뜻이다.

## 이상(Anomaly) 현상

데이터의 이상 현상은 데이터를 삽입, 수정, 삭제 등의 연산을 수행할 때 생긴 부작용을 뜻한다.

따라서 데이터베이스를 설계할 때 최대한 이상 현상이 발생하지 않도록 해야한다.

이상 현상에는 삽입 이상, 갱신 이상, 삭제 이상 세 가지가 있다.

**삽입 이상(Insertion Anomaly)**

삽입 이상은 새 데이터를 삽입할 때 불필요한 데이터를 삽입하게 되거나, 데이터를 삽입하지 못하는 경우를 뜻한다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f32a003a-5887-4f06-b93c-018e484ef927/Untitled.png)

위와 같이 새로운 데이터를 삽입하고자 할 때, 수업 코드(Course Code)에 대한 정보가 정해지지 않은 경우 데이터를 추가하지 못한다.

수업을 NULL과 같은 값을 지정하거나, 새로운 수업 코드를 배정하여 삽입해야 추가해야 한다.

만약, 기본키(PK: Primary Key)일 경우 NULL 값을 가질 수 없는 제약이 있어 해당 데이터가 필수적으로 존재해야 할 수도 있다.

**갱신 이상(Update Anomaly)**

갱신 이상은 중복 튜플(행) 중 일부만 변경하여 데이터가 불일치하게 되어 모순이 발생하는 것을 뜻한다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0e6d9642-64e1-4883-a329-b0c79592301e/Untitled.png)

위와 같은 테이블이 존재하고, 두 개의 튜플이 동일한 상태일 때 Employee ID가 519인 데이터를 갱신할 경우, 어떤 데이터를 갱신해야 하는지에 대한 문제가 발생하게 된다.

**삭제 이상(Deletion Anomaly)**

삭제 이상은 튜플을 삭제할 때, 필요한 데이터까지 함께 삭제되어 데이터 손실이 발생하는 것을 뜻한다.

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3bd84fbb-d94f-44aa-9c00-d1932b256672/Untitled.png)

위와 같이 Dr. Giddens의 수업인 ENG-206 수업 코드를 삭제하려고 할 때, 수업에 대한 데이터만 삭제되는 것이 아닌, 튜플 전체가 삭제되는 현상이다.

## 정규화의 필요성

이상 현상이 발생하는 이유는 관련이 없는 데이터들을 하나의 릴레이션에 모두 모아두고 있기 때문이다.

따라서 이상 현상이 발생하지 않도록 하기 위해 관련 있는 속성들로만 릴레이션을 구성해야 한다.

이를 위해 필요한 것이 바로 정규화이다.

즉, 정규화는 이상 현상이 발생하지 않도록, 릴레이션을 관련이 있는 속성들로만 구성하기 위해 릴레이션을 분해하는 과정이라 할 수 있다.

이를 판단하기 위해 릴레이션을 구성하는 속성들 간의 관련성을 판단할 수 있어야 한다.

정규화 과정에서 고려해야 하는 속성들 간의 관련성을 함수적 종속성(FD : Functional Dependency)이라 한다.